label the transitions an allow state advance by these labels

per-transtion function calls/preconditions

implement transition checks as a packed (bit vector) adjacency matrix
rather than a rat's nest of switch() statements

improve graphviz output
	display preconditions
	display transition calls

more regress tests
	test parser
	test consistency checks

better documentation
	BNF for parser

state_reset() function
	(probably don't need this)

templatise the code sections in cfsm
	done as much as I can without a template language and I don't want
	external dependancies (perhaps ship and use ezt.py)

generation of C source without the header is broken
	options for "header filename" and "include guard"?
	(cruddy workaround in place: must generate both at once)

reentrance protection?
	set a flag in the fsm struct in state_advance
